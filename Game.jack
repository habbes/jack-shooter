class Game {
    field int frameInterval;
    field SceneManager scene;
    field Tank hero;

    constructor Game new () {
        let frameInterval = 66;
        let scene = SceneManager.new();
        let hero = Tank.new();
        return this;
    }

    method void wait () {
        do Sys.wait(frameInterval);
        return;
    }
    
    method void run () {
        var boolean exit;
        var char key;
        var Enemy enemy;
        let exit = false;
        
        do scene.setHero(hero);
        do scene.spawnEnemy();
        do wait();
        while (~exit) {
            do scene.keyPressed(Keyboard.keyPressed());
            do scene.refresh();
            do wait();
        }
        do hero.dispose();
        return;
    }

    method void dispose() {
        do scene.dispose();
        do Memory.deAlloc(this);
        return;
    }
}